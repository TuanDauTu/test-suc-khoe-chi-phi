<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sức Khỏe Quản Lý Chi Phí Cá Nhân</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Identity (Optional for real implem) -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/phase-header.css">
    <link rel="stylesheet" href="css/form.css">
</head>

<body>

    <div class="app-container" style="flex-wrap: wrap;">
        <!-- TOP HEADER -->
        <div id="intro-header" style="width: 100%; text-align: center; margin-bottom: 20px; color: var(--text-color);">
            <h1 style="font-size: 1.5rem; color: #10b981; margin-bottom: 15px; text-transform: uppercase;">
                Bài kiểm tra sức khỏe quản lý chi tiêu – Bạn đang dùng tiền hay bị tiền dẫn dắt?
            </h1>
            <p
                style="font-size: 0.95rem; line-height: 1.6; max-width: 900px; margin: 0 auto; color: var(--text-muted); text-align: justify;">
                Chi tiêu không chỉ là con số, mà là tấm gương phản chiếu thói quen, cảm xúc và mức độ làm chủ tài chính
                của mỗi người.
                Bài kiểm tra này giúp bạn nhìn thẳng vào cách mình đang sử dụng tiền hằng ngày: có kiểm soát hay theo
                bản năng, có chủ động hay bị cuốn theo hoàn cảnh.
                Không phán xét, không đúng–sai, bài test đóng vai trò như một bản chẩn đoán nhanh, để bạn biết mình đang
                ở đâu trên hành trình xây dựng nền tảng tài chính vững vàng cho bản thân và gia đình. Bài kiểm tra gồm
                10 câu hỏi, mỗi câu hỏi có 5 phương án trả lời với thang điểm 5/5.
            </p>
        </div>
        <!-- LEFT PANEL: RADAR CHART -->
        <div class="chart-panel">
            <h2 class="chart-title"><i class="fa-solid fa-chart-pie"></i> 10 khía cạnh QUẢN LÝ CHI PHÍ
            </h2>
            <div
                style="position: relative; height: 100%; width: 100%; min-height: 300px; display: flex; justify-content: center; align-items: center; padding: 10px;">
                <canvas id="radarChart"></canvas>
            </div>
        </div>

        <!-- RIGHT PANEL: INTERACTION -->
        <div class="interaction-panel">

            <!-- VIEW 1: LOGIN -->
            <div id="view-login" class="card login-view">
                <h1>Bác Sĩ Tài Chính</h1>
                <h2
                    style="font-size: 1.1rem; color: var(--text-color); margin: 1rem 0; font-weight: 500; line-height: 1.5;">
                    Đánh giá Năng lực quản lý chi tiêu thông qua 10 khía cạnh
                </h2>
                <div style="margin: 2rem 0;">
                    <i class="fa-solid fa-user-doctor" style="font-size: 4rem; color: var(--primary-color);"></i>
                </div>
                <p style="color: var(--text-color); margin-bottom: 1rem; font-size: 0.95rem;">
                    Hãy điền thông tin của bạn để bắt đầu
                </p>
                <div class="login-form-container" style="max-width: 320px; margin: 0 auto;">
                    <input type="text" id="user-name" placeholder="Họ và tên của bạn" class="form-input" required>
                    <input type="email" id="user-email" placeholder="Địa chỉ Email" class="form-input" required>
                    <p
                        style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 1rem; margin-top: -0.5rem; text-align: left; padding-left: 0.5rem;">
                        *Nhập đúng email để nhận được báo cáo đánh giá
                    </p>

                    <button id="btn-login" class="btn-google"
                        style="justify-content: center; width: 100%; margin-top: 0.5rem;">
                        Bắt đầu đánh giá
                    </button>
                </div>
                <!-- 
                <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 1rem;">
                    *Dữ liệu của bạn được bảo mật tuyệt đối.
                </p> 
                -->
            </div>

            <!-- VIEW 2: INTRO/PRE-TEST (Hidden initially) -->
            <div id="view-intro" class="card hidden text-center">
                <h2>Chào mừng, <span id="user-name-display" style="color: var(--primary-color)">Bạn</span></h2>
                <p class="mb-4">Bài test gồm 10 câu hỏi, cho 10 khía cạnh. mỗi câu hỏi có 5 phương án trả lời với thang
                    điểm 5/5. Mỗi khía cạnh gồm 2 bước:</p>
                <ul style="text-align: left; margin: 0 auto 2rem; max-width: 320px; color: var(--text-muted);">
                    <li class="mb-4">Bước 1. Đánh giá dựa vào câu hỏi trắc nghiệm thực tế của bạn</li>
                    <li>Bước 2: Bạn tự đánh giá năng lực</li>
                </ul>
                <button id="btn-start" class="rating-btn" style="background: var(--primary-color); color: #0f172a;">
                    Bắt đầu ngay <i class="fa-solid fa-arrow-right"></i>
                </button>
            </div>

            <!-- VIEW 3: TEST (Self Assessment) -->
            <div id="view-self-assess" class="card hidden">
                <div class="phase-header">
                    <div class="phase-badge">CÂU HỎI <span id="current-aspect-num">1</span>/10</div>
                    <h2 class="phase-title" id="current-aspect-name">NHẬN THỨC CHI TIÊU</h2>
                    <div class="phase-subtitle">Bước 2: Bạn tự đánh giá năng lực</div>
                </div>

                <h3 class="question-text">Bản thân bạn tự đánh giá năng lực của bản thân ở khía cạnh này?
                </h3>

                <div class="rating-scale">
                    <button class="rating-btn" data-score="1"><span
                            style="font-size:1rem; font-weight:700">YẾU</span></button>
                    <button class="rating-btn" data-score="2"><span
                            style="font-size:1rem; font-weight:700">KÉM</span></button>
                    <button class="rating-btn" data-score="3"><span style="font-size:1rem; font-weight:700">TRUNG
                            BÌNH</span></button>
                    <button class="rating-btn" data-score="4"><span
                            style="font-size:1rem; font-weight:700">KHÁ</span></button>
                    <button class="rating-btn" data-score="5"><span
                            style="font-size:1rem; font-weight:700">TỐT</span></button>
                </div>
            </div>

            <!-- VIEW 4: TEST (Quiz) -->
            <div id="view-quiz" class="card hidden">
                <div class="phase-header">
                    <div class="phase-badge">CÂU HỎI <span id="quiz-aspect-num">1</span>/10</div>
                    <h2 class="phase-title" id="quiz-aspect-name">...</h2>
                    <div class="phase-subtitle">Bước 1: Đánh giá dựa vào câu hỏi trắc nghiệm thực tế</div>
                </div>

                <h3 id="quiz-question" class="question-text">...</h3>

                <div id="quiz-options" class="options-grid">
                    <!-- Options injected by JS -->
                </div>
            </div>

            <!-- VIEW 5: RESULTS -->
            <div id="view-result" class="card hidden" style="max-height: 80vh; overflow-y: auto;">
                <div class="results-header">
                    <h2>Đơn Thuốc Tài Chính</h2>
                    <p style="color: var(--text-muted)">Kết quả chẩn đoán của bạn</p>
                </div>

                <div class="score-summary">
                    <div class="score-box">
                        <div class="score-label">Tự đánh giá</div>
                        <div id="final-self-score" class="score-value">0</div>
                    </div>
                    <div class="score-box">
                        <div class="score-label">Điểm thực tế</div>
                        <div id="final-actual-score" class="score-value">0</div>
                    </div>
                </div>

                <div id="praise-section" class="mb-4">
                    <h3 style="color: var(--primary-color)"><i class="fa-solid fa-thumbs-up"></i> Điểm Mạnh</h3>
                    <ul id="praise-list" style="margin-left: 1.5rem; color: var(--text-main);"></ul>
                </div>

                <div id="weakness-section" class="mb-4">
                    <h3 style="color: var(--danger-color)"><i class="fa-solid fa-triangle-exclamation"></i> Điểm chưa
                        tốt</h3>
                    <ul id="weakness-list-display" style="margin-left: 1.5rem; color: var(--text-main);"></ul>
                </div>

                <hr style="border-color: var(--surface-border); margin: 1.5rem 0;">

                <div id="completion-message"
                    style="text-align: center; background: rgba(16, 185, 129, 0.1); border-radius: 16px; padding: 2rem; border: 1px solid rgba(16, 185, 129, 0.2);">
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem;">
                        <i class="fa-solid fa-gift"></i> Chúc mừng bạn đã hoàn thành!
                    </h3>
                    <p style="margin-bottom: 1.5rem; color: var(--text-main);">
                        Nếu thấy công cụ này hữu ích, <br>hãy chia sẻ nó đến với bạn bè của mình nhé.
                    </p>
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px;">
                        <i class="fa-solid fa-envelope-open-text"
                            style="color: var(--accent-color); font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                        <p style="font-weight: 600; color: var(--text-main);">
                            Vui lòng kiểm tra Email <br>để nhận Báo Cáo Tổng Kết chi tiết.
                        </p>
                        <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 0.5rem;">
                            (Đôi khi email có thể rơi vào mục Spam/Quảng cáo, hãy kiểm tra kỹ nhé!)
                        </p>
                    </div>
                </div>

                <button onclick="location.reload()" class="btn-google"
                    style="width: 100%; justify-content: center; margin-top: 2rem;">
                    <i class="fa-solid fa-rotate-right"></i> Làm lại bài test
                </button>
            </div>

        </div>
    </div>

    <!-- Scripts -->
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>

</html>